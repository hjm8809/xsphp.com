(function(){if(!window.mingzhekoucom){window.mingzhekoucom={};}if(!window.mingzhekoucom.extension){window.mingzhekoucom.extension={};}if("undefined"!==typeof window.mingzhekoucom.extension.loopdomain){return;}var a={baseUrl:"http://www.mingzhekou.com/",rules:{taobao:/^http(s)?:\/\/(.*)\.(taobao|tmall)\.com/i,jd:/^http(s)?:\/\/item\.jd\.com/i,gome:/^http(s)?:\/\/www\.gome\.com\.cn/i,tools:/^http:\/\/www\.mingzhekou\.com/i},utils:{A:function(c,d){if(typeof d=="string"){c.innerHTML=d;}else{c.appendChild(d);}return d;},C:function(b){return document.createElement(b);},T:function(b,c){return document.getElementsByTagName(b)[c];},D:function(b){var c=document.getElementById(b);c.parentNode.removeChild(c);},addCss:function(d,b){var g=a.utils.T("head",0);var h=a.utils.C("link");h.rel="stylesheet";var e=new Date;h.href=d;a.utils.A(g,h);},addScript:function(d,f,c,b){var e=a.utils.T("head",0);var g=a.utils.C("script");g.type="text/javascript";g.charset="utf-8";if(f){g.text=d;}else{if(b){g.setAttribute("defer","");g.setAttribute("async","true");}g.onload=g.onreadystatechange=function(){if(g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"){return;}else{if(c){c();}g.onload=g.onreadystatechange=null;}};g.src=d;}a.utils.A(e,g);if(f&&c){c();}},addScriptToBody:function(d,f,c,b){var e=a.utils.T("body",0);var g=a.utils.C("script");g.type="text/javascript";g.charset="utf-8";if(f){g.text=d;}else{if(b){g.setAttribute("defer","");g.setAttribute("async","true");}g.src=d;}a.utils.A(e,g);},getSuffix:function(){var b=new Date();var c="?v=1401083174";return c;},getScriptPath:function(d,c){var e=a.baseUrl+d+a.utils.getSuffix();if(c){for(var b in c){e+="&"+b+"="+c[b];}}return e;},parseURL:function(c){var b=document.createElement("a");b.href=c;return{source:c,protocol:b.protocol.replace(":",""),host:b.hostname,port:b.port,query:b.search,params:(function(){var f={},h=b.search.replace(/^\?/,"").split("&"),e=h.length,d=0,g;for(;d<e;d++){if(!h[d]){continue;}g=h[d].split("=");f[g[0]]=g[1];}return f;})(),file:(b.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:b.hash.replace("#",""),path:b.pathname.replace(/^([^\/])/,"/$1"),relative:(b.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:b.pathname.replace(/^\//,"").split("/")};}},urlMatch:function(f,e){for(var b in e){var c=e[b];if(c.test(f)){var d={module:b};return d;}}return false;},init:function(h){var d=a.utils.parseURL(h);h=d.protocol+"://"+d.host;var e=a.urlMatch(h,a.rules);var b=e.module;var f=false;switch(b){case"taobao":case"shopping":case"blacklist":case"mall":f=a.utils.getScriptPath("home/js/",{r:encodeURIComponent(h)});break;case"jd":case"gome":f=a.utils.getScriptPath("home/js/",{k:b,r:encodeURIComponent(h)});break;case"tools":var c=document.getElementById("downloadLink");if(c!=undefined){c.innerHTML="";c.className="downed";c.href="http://trade.taobao.com/trade/itemlist/list_bought_items.htm";c.target="_blank";f=a.utils.getScriptPath("Public/static/mysite.js");}break;case"other":defalut:break;}if(f){a.utils.addCss(a.utils.getScriptPath("Public/tools_mingzhekou.css"),false,false,true);if(b=="gome"){a.utils.addScript(f,false,false,true);}else{a.utils.addScript(a.utils.getScriptPath("Public/tools.js"),false,function(){a.utils.addScript(f,false,false,true);},true);}var g="http://js.users.51.la/16993920.js";if(g!=""){a.utils.addScriptToBody(g,false,false,true);}}}};a.init(window.location.href);window.mingzhekoucom.extension.loopdomain=a;})();